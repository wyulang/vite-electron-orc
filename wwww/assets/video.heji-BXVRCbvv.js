import{d as h,u as m,r as v,c as i,a as e,f as _,g as b,y as c,h as x,o as a,F as g,i as j,l as w,t as f}from"./index-Dg9TTGAa.js";const y={class:"w-all flex pl15 h-all fd-c pr5"},C={class:"flex h-all"},N={class:"flex w-all fw"},k=["onClick"],B={class:"pl10 pr10 fc-fff flex pt7 pb7 fs-16 ai-c ba-5 w-all"},L={class:"abs al10 fs-16 pp5 ba-5 ra-5 ab10 fc-fff"},R=h({__name:"video.heji",setup(V){const n=m(),s=v({hejiLoc:"",pn:0,list:[],isNext:!1,scroll:0,isBotom:!1});function r(){s.isBotom||(c.spinner.show(),window.storeApi.ipcRenderer("baidu-video-heji",{...n.heji,pn:s.pn,hejiLoc:s.hejiLoc}).then(o=>{if(console.log(o),c.spinner.close(),!String(o)){s.isNext=!0;return}s.isNext=!1,!o.error&&!s.hejiLoc&&(s.hejiLoc=o.data.asResult.item[0].result.CompilationVideos.data.compilaInfo.loc),o.data.asResult.item[0].result.CompilationVideos.data.videoInfo.length?(s.pn=s.pn+10,s.list=s.list.concat(o.data.asResult.item[0].result.CompilationVideos.data.videoInfo)):data.isNext=!0}))}function d(o){n.play.url=o.ori_playUrlForWeb||o.video_src||o.video_bos_url}function p(o){if(o.isBottom){if(s.isNext||s.scroll>o.top)return;s.scroll=o.top,s.isNext=!0,setTimeout(()=>{r(s.pn+10)},10)}}return r(),(o,t)=>{const u=x("scroll");return a(),i("div",y,[e("div",{onClick:t[0]||(t[0]=l=>o.$router.go(-1)),class:"flex nodarg h-33 pt10 ai-c"},t[1]||(t[1]=[e("span",{class:"fs-13 hand fc-aa fb"},"返回",-1)])),t[3]||(t[3]=e("div",{style:{"min-height":"15px"},class:"h-15"},null,-1)),e("div",C,[_(u,{onScroll:p},{default:b(()=>[e("div",N,[(a(!0),i(g,null,j(s.list,l=>(a(),i("div",{onClick:S=>d(l),style:w({backgroundImage:`url('${l.avatar||l.vertical_poster}')`}),class:"wb-32 bs-c nodarg hand rel hidden sha-6 mt10 ra-5 mr10 bp-all h-250"},[e("div",B,f(l.heji_title),1),e("span",L,f(l.duration),1),t[2]||(t[2]=e("span",{class:"iconfont fs-33 icon-mv fc-fff abs absc"},null,-1))],12,k))),256))])]),_:1})])])}}});export{R as default};
